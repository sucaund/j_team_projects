<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.oracle.hellong.GymMapper">
	<select id="gymTotal" resultType="int">
		SELECT Count(*) FROM gym
	</select>
	<select id="jhGymListAll" parameterType="Gym" resultType="Gym">
		select*
		from
		(
			select rownum rn, a.*
			from
				(select*from gym order by g_id)a
		)
		where rn between #{start} and #{end}
		
	</select>
	
	<select id="jhGymListManage" parameterType="Gym" resultType="Gym">
		select*
		from gym
		where m_number = #{m_number}
	
	</select>
	
	
	<select id="jhGymListManager" parameterType="Gym" resultType="Gym">
		select*
		from gym
		where m_number = #{m_number}
	</select>
	
	<select id="jhcreateGymPost" parameterType="int" resultType="Gym">
		select*
		from gym
		where g_id = #{g_id}
	</select>
	
	<select id="gymIdTrainer" parameterType="int" resultType="int">
		select g_id
		from gym
		where g_id = #{g_id}
	</select>
	
	<select id="getAllGym" resultType="Gym">
		SELECT*
		FROM GYM 
	</select>
	
	<select id="getGym" parameterType="int" resultType="Gym">
		SELECT*
		FROM GYM WHERE G_ID = #{g_id}
	</select>
	
	<select id="dySearchGyms" parameterType="Gym" resultType="Gym">
		SELECT
		g_name, g_address, g_tel
		FROM gym
		WHERE g_name LIKE '%' || #{totKeyword} || '%'
		OR g_address LIKE '%' || #{totKeyword} || '%'
	</select>
	
		<select id="getGym" parameterType="int" resultType="Gym">
		SELECT*
		FROM GYM WHERE G_ID = #{g_id}
	</select>
	<insert id="shregisterGym" parameterType="Gym">
		INSERT INTO GYM (G_ID,    M_NUMBER,   G_NAME,    G_ADDRESS,   G_TEL,    G_COMPANYNUMBER,  G_DOCUMENT)
		VALUES (G_ID_SEQ.NEXTVAL, #{m_number},#{g_name}, #{g_address},#{g_tel}, #{g_companynumber},#{g_document})
	</insert>
	<update id="deleteGym" parameterType="int">
	    UPDATE Gym
	    SET G_ISDELETED = 1
	    WHERE G_ID =#{g_id}
	</update>

	<update id="OpenGym">
	    UPDATE Gym
	    SET COMMON_MCD = #{common_mcd}
	    WHERE G_ID = #{g_id}
	</update>
	
</mapper>