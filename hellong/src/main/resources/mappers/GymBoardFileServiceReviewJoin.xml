<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.oracle.hellong.GymBoardServiceJoinMapper">
	<select id="getMinPrice" parameterType="GymBoardServiceJoin" resultType="GymBoardServiceJoin">
	    SELECT *
	    FROM (
	        SELECT ROWNUM AS rn, a.*
	        FROM (
                select b.g_id, COALESCE(min(s.s_price), 0) AS min_s_price 
                from gym_board b
                LEFT JOIN g_s s ON s.g_id = b.g_id
                GROUP BY b.g_id
                ORDER BY b.g_id DESC
	        ) a
	    )
	    WHERE rn BETWEEN #{start} AND #{end}
	</select>
</mapper>